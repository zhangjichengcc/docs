<!--
 * @Author: zhangjicheng
 * @Date: 2021-04-08 19:52:10
 * @LastEditTime: 2021-04-08 20:08:48
 * @LastEditors: zhangjicheng
 * @Description: webpack4.x 资源利用
 * @FilePath: \my-note\src\_webpack\3.资源利用.md
 * 可以输入预定的版权声明、个性签名、空行等
-->
# 资源利用

> webpack 是一个功能强大，极具扩展性的，同时也有一定复杂度的前端构建工具，我们在学习和使用 webpack 的过程中多少都会遇见各种各样的问题，也许是某个依赖的库没有安装，也许是使用的某个 loader 对应的版本不对，所以，在继续深入 webpack 的实践应用之前，我们需要学习一下如何利用现有的资源来帮助我们解决使用 webpack 中可能出现的各种问题。

由于 webpack 有着丰富的社区资源，在遇见问题时，我们可以查阅的资料和利用的资源有很多：

- [webpack 的官方文档](https://v4.webpack.docschina.org/concepts/)
- webpack 社区的各种文章
- [webpack 在 github 官方仓库的 issues](https://github.com/webpack/webpack/issues)
- [webpack 的源码](https://github.com/webpack/webpack)

## 1. 官方文档

现在 webpack 官方文档分为几个部分：

- Guides 类似新手指南，会一步步教如何使用和配置 webpack，如果有足够的耐心和精力，是非常建议把官方文档这部分内容全部过一遍的
- API webpack 提供的 API 内容，其中包括 webpack 的使用，开发 webpack loader 或者 plugin 时使用的 API，以及 webpack 运行时提供的各种对象的 API 等，属于比较深入的内容，基于 webpack 深度定制化时需要。
- Plugins webpack 官方或者优秀的第三方提供的 plugins 列表，可以在其中找到满足你需要的 plugin 来使用，同时也包括了比较详细的 plugin 说明文档
Concepts webpack 各种概念的介绍，主要涉及 webpack 设计原理，比较简要的内容我们在上个章节已经有所介绍
- Configuration webpack 配置字段的介绍，十分详细，查阅各个配置项的功能和设置时十分有用
- Migrate webpack 低版本升级到高版本的指南，需要做相关升级时可查阅
- Loaders webpack 官方或者优秀的第三方提供的 loaders 列表，基本上满足了各种前端构建所需要的 loader，也包括了 loader 详细的使用文档，当你需要处理新的文件格式时可优先查阅该列表看是否有满足需求的 loader

官方提供几个部分的内容排序个人感觉比较奇怪，建议以下列顺序来阅读，会更清晰一点：
``` bash
Guides -> Concepts -> Configuration -> Loaders -> Plugins -> API
``` 

## 2. GitHub issues

> 在官方仓库的 issue 中由于有仓库的开发者在，所以一些讨论内容和解决方案相当可靠，有些开发者可以给到你一些比较深入的问题答案或者解决方法，你可以从此学习到更多的内容。

需要好好学习如何使用 Github 和 Issues 来帮助自己成长，下边附上 Github Issues 搜索的姿势：
[searching-issues-and-pull-requests](https://docs.github.com/cn/github/searching-for-information-on-github/searching-discussions)

## 3. 社区文章或问答

> webpack 有许许多多的使用者，有着特别活跃丰富的社区生态，只要你在百度或者谷歌搜索 webpack 相关关键字，总是可以获取到不少相关内容，掘金的社区中也是，webpack 相关的文章比比皆是。这些文章或问答内容都是 webpack 使用者的经验，他们将其分享出来，方便别人遇见相关问题时可以有个参考的解决方法。

>但是，社区文章或者问答的内容质量参差不齐，有些可能是构建遇到的问题没有详细说明，有些可能是解决问题的方法缺少部分细节，急于解决问题的我们要如何从茫茫的文章大海中找到自己需要的东西，还是有些难度的，这里给读者几个建议，在需要时酌情参考，可以减少踩坑：

- 问答内容偏重于解决某个特定问题，适合处理问题时查阅，文章偏重于系统性地介绍某部分内容，适合学习或者总结时查阅
- 查阅内容先明确自己想要什么内容，快速浏览后，如果明确大概内容有用，再逐步细致深入
- 注意内容时效性，可能太久以前的文章或者问题内容对你当前遇见要解决的问题不会有什么帮助，留意版本的坑
- 在查阅具体问题解决方案时，切记留意细节，一些配置可能仅仅由于小小的差异而导致问题
- 别忽略文章或者问答的评论内容，很可能你需要的答案就在评论区那些你来我往的讨论中

通常情况下，建议优先从 webpack 和相关类库或者周边的官方文档以及它们的 github 仓库 issues 中查阅解决方案，这些信息的有效性和时效性都更加可靠。

tips: 尤其关注版本问题，前端发展日新月异，90%的问题都出在版本上；

## 4. 源码

> 当你尝试了查阅各种资料后还是依旧无法解决问题时，可能就需要最后的办法了——查阅源码，这里的源码可能不止是 webpack 的源码，还有各种周边其他第三方类库的源码，关于查阅源码，步骤就类似我们平时 debug 一样，可能需要一定的开发经验积累，在这里给出一些技巧以供参考:

- 优先思考问题根源，列出可能导致问题的原因，再有针对性地查阅源码，我们最关键的是要解决问题，而不是仔细阅读所有源码，就算是学习源码内容，也不是深入所有细节（毕竟源码内容很多，无法短时间内一一消化），应该是把握自己主要脉络，有选择性地阅读。
- 如果有异常报错，仔细阅读报错信息和异常堆栈，根据其内容定位问题所在。
可以直接在 node_modules 中修改 webpack 或者第三方类库源码进行 debug，方便快速定位问题。
- 实现一个可以重现问题的最小化 demo，可以有效避免其他无关因素的干扰，让我们更加关注于问题本身，同时，这个简单 demo 可以快速地分享给其他开发者进行问题重现和调试，有助于其他人协助你解决问题。
- 一些疑难杂症真的无法解决或者卡在源码某处无法理解时，可以尝试用 github issue 或者 email 和作者讨论沟通，比和其他开发者探讨可能要有效率得多。

